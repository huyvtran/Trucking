<ion-view title="Photos">

	<ion-content class="has-header">

		<div ng-repeat="cat in fotoTipos | orderBy: 'orden' | category">
			<div class="title-stretch">
				<h3>{{cat[0].categoria}}</h3>
			</div>
			<div class="row" ng-repeat="rows in cat | partition: 3">
				<div class="card-fixed-width" ng-repeat="item in rows | orderBy: 'orden'">

					<div class=" card">
						<div class="item item-icon-right" ng-class="{ 0: 'border-red',  1: 'border-green', 2: 'border-yellow'}[item.status]">
							<div class="progressBar" ng-style="progressStyle(item)"></div>
							<h2>{{item.detaille}}</h2>
							<span class=" badge-right badge badge-positive">{{item.requerido - item.done}}</span>
						</div>

						<div class="item item-image image-empty" ng-class="{ 0: 'border-red',  1: 'border-green', 2: 'border-yellow'}[item.status]">
							<img ng-src="{{item.photo}}">
						</div>

						<div class="item tabs tabs-secondary">
							<div class="tab-item" ng-click="expandPhotos(item)">
								<i class="icon ion-arrow-expand"></i>
							</div>
							<div class="tab-item" ng-click="capturePhoto(item)">
								<i class="icon ion-ios7-camera"></i>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ion-content>
</ion-view>


<script id="viewPhotos.html" type="text/ng-template">
	<div class="modal modal-photo" ng-controller="ViewPhotosCtrl">
		<ion-header-bar class="bar-secondary">
			<h1 class="title">Photos</h1>
			<button class="button button-clear button-positive" ng-click="closeModal()">Cancel</button>
		</ion-header-bar>
		<ion-slide-box class="content">
			<ion-slide class="has-header" ng-repeat="item in slidePhotos">
				<img ng-src="{{item}}" >
			</ion-slide>
		</ion-slide-box>
	</div>
</script>
